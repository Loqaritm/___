<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'%3E%3Cdefs%3E%3C!-- a transparent glow that takes on the colour of the object it's applied to --%3E%3Cfilter id='glow'%3E%3CfeGaussianBlur stdDeviation='2.5' result='coloredBlur'/%3E%3CfeMerge%3E%3CfeMergeNode in='coloredBlur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3C/defs%3E%3Cg transform='scale(1.0)rotate(180 60 55)'%3E%3Cpath d='M60 20 L25 85 L100 85 Z' stroke='%23fe3300' stroke-width='7' fill='none' opacity='0.6' filter='url(%23glow)'%3E%3C/path%3E%3C/g%3E%3C/svg%3E" type="image/svg+xml" />
    <style>
    body {
        color: rgb(248, 248, 248);
        background-color: #000000;
        width: 100%;
        height: 100%;
    }
    html {
      width: 100%;
      height: 100%;
    }
    </style>
</head>
<body>
    <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; width: 100%; margin: auto; position: absolute; z-index: 20; ">
      <p style="text-align:center;font-size: 64px;z-index: 20; position: relative;" id="partText">Part II of present coming soon</p>
      <p style="text-align: center; font-size: 64px; z-index: 20; position: relative; display: none; margin-bottom: 0%;" id="part3text">Part III of present coming soon c:</p>
      <!-- Display the countdown timer in an element -->
      <p style="text-align:center;font-size: 64px;z-index: 20; position: relative;" id="countdownElement">___</p>
    </div>
    <div style="display: flex; justify-content: center; align-items: center; height: 100%; width: 100%; z-index: -10; position: absolute;">
      <div style=" width: 50%; opacity: 0.4;" id="rotatingTriangle">
        <svg viewBox="0 0 120 120">
          <defs>
            <!-- a transparent glow that takes on the colour of the object it's applied to -->
            <filter id="glow">
              <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
              <feMerge>
                  <feMergeNode in="coloredBlur"/>
                  <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <g>
            <circle cx="61" cy="62" r="6" stroke="white" stroke-width="4" fill="none" opacity="0" id="innerCircle"/>
            <circle cx="61" cy="62" r="53" stroke="white" fill="none" opacity="0" id="outerCircle"/>
            <path d="M60 20 L25 85 L100 85 Z" stroke="#fe3300" stroke-width="7" fill="none" opacity="0.6" filter="url(#glow)">
              <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 61 62" to="360 61 62" dur="20s" repeatCount="indefinite"/>
            </path>
          </g>
         </svg>
      </div>
    </div>

<script>
// Set the date we're counting down to
var countDownDate = new Date("Dec 29, 2021 16:00:00").getTime();
var startDate = new Date("Dec 28, 2021 18:00:00").getTime();

var countDownDate2 = new Date("Dec 29, 2021 20:00:00").getTime();
var startDate2 = new Date("Dec 29, 2021 16:00:00").getTime();
var playlistLoaded = false

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;
  var distance2 = countDownDate2 - now;
  
  if (distance > 0) {
    // Time calculations for days, hours, minutes and seconds
    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("countdownElement").innerHTML = days + "d " + hours + "h "
    + minutes + "m " + seconds + "s ";
  } else if (distance2 > 0) {
    // Time calculations for days, hours, minutes and seconds
    var hours = Math.floor((distance2 % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance2 % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance2 % (1000 * 60)) / 1000);

    document.getElementById("partText").innerHTML = "Part II is here!"
    document.getElementById("part3text").style.display = "block"
    document.getElementById("countdownElement").innerHTML = hours + "h "
    + minutes + "m " + seconds + "s ";

    if (!playlistLoaded) {
      playlistLoaded = true
      var node = document.getElementById("partText");
      node.insertAdjacentHTML("afterend", '<iframe src="https://open.spotify.com/embed/playlist/4USOctbgT9PPTAfQNG2uKs"width="300" height="380" frameborder="0" allowtransparency="true"allow="encrypted-media"></iframe>')
    }
  } else {
    document.getElementById("partText").innerHTML = "<3"
    document.getElementById("countdownElement").innerHTML = " ";
    // Break only after both countdowns finish 
    clearInterval(x);
  }
  

  var percentDone = (now - startDate) / (countDownDate - startDate)
  var percentDoneCircles = (now - startDate2) / (countDownDate2 - startDate2)
  
  percentDone = Math.min(1.0, percentDone)
  percentDoneCircles = Math.min(1.0, percentDoneCircles)

  document.getElementById("rotatingTriangle").style.opacity = percentDone
  document.getElementById("innerCircle").style.opacity = percentDoneCircles
  document.getElementById("outerCircle").style.opacity = percentDoneCircles
}, 1000);
</script>

</body>
<meta charset="utf-8"/>